\section{Quản lý ngữ cảnh}

Sử dụng RAG-based method để quản lý ngữ cảnh cho các câu hỏi của người dùng. Các đoạn hội thoại giữa người dùng và chatbot được chia nhỏ,
sử dụng \textbf{embedding} để lưu vào vector store. Sau đấy, khi người dùng query, hệ thống \textbf{tìm kiếm recall memories}, trả về kết quả cộng với
thông tin cuộc hội thoại sẽ được sử dụng làm \textbf{ngữ cảnh}. Quản lý ngữ cảnh thực hiện ở \textbf{load memory} trong \textbf{supervisor agent}.

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/LCLMsmethod.png}
\caption{Các phương pháp lưu trữ ngữ cảnh}
\end{figure}

\subsection{Embedding}
Sử dụng embedding-004 của Google Vertex.
\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/embedding.png}
\caption{Vertex AI Embedding-004}
\end{figure}

\subsection{Tìm kiếm recall memories}
Kết quả là đoạn hội thoại có kết quả tính độ giống nhau cosine cao nhất.
\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/recall_search.png}
\caption{Search recall memories}
\end{figure}

